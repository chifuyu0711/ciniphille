import{j as u,r as g,b as f,o as a,c as m,e as p,u as h,i as y,f as o,t as c,a as d,l as x,m as S,F as $,k,d as b,w,z as B,A as z,B as I}from"./index-87916719.js";const M={class:"intro"},R={alt:"",class:"intro__img"},A={class:"intro__block"},T={class:"intro__block-left"},j={class:"intro__block-left-title"},F={class:"intro__block-left-text"},L={class:"intro__block-left-descr"},U={class:"intro__block-right"},C={alt:"",class:"intro__block-right-img"},N={class:"intro__block-actors"},O=o("h2",{class:"intro__block-actors-title"},"В главных ролях",-1),V={__name:"Intro",props:{item:Object,type:String},setup(t){const e=t,n=u(()=>{let s=e.type=="movie"?"release_date":e.type=="tv"?"first_air_date":"";return new Date(e.item[s]).getFullYear()}),i=u(()=>e.item.genres.reduce((s,_)=>s+", "+_.name,"")),r=u(()=>{let s=e.type=="movie"?e.item.runtime:e.type=="tv"?e.item.episode_run_time[0]:"",_=Math.floor(s/60),l=s%60;return _==0?`${l}m`:`${_}h ${l}m`});return(s,_)=>{const l=g("Actors"),v=f("lazy");return a(),m("section",M,[p(o("img",R,null,512),[[v,h(y)+t.item.backdrop_path]]),o("div",A,[o("div",T,[o("h1",j,c(t.item.title||t.item.name),1),o("p",F,c(t.item.overview),1),o("p",L,[o("span",null,c(n.value)+c(i.value),1),o("span",null,c(r.value),1)])]),o("div",U,[p(o("img",C,null,512),[[v,h(y)+t.item.poster_path]])]),o("div",N,[O,d(l,{type:t.type,id:t.item.id,count:6},null,8,["type","id"])])])])}}},Y=x("rec",{state:()=>({recMovies:null,recTvs:null}),actions:{async getRec({type:t,id:e}){try{let n=await S.get(`${t}/${e}/recommendations?language=ru-RU`);t=="movie"?this.recMovies=n.data.results:t=="tv"&&(this.recTvs=n.data.results)}catch(n){console.log("Ошибка при получении рекомендованных данных"+n.message)}}}}),E={class:"info"},G={class:"container"},q={class:"info__box"},H={class:"info__box-item-name"},J={class:"info__box-item-value"},K={__name:"Info",props:{item:Object},setup(t){const e=t;console.log(e.item);const n=u(()=>[{name:"Бюджет",value:e.item.budget?"$"+e.item.budget:"Неизвестно"},{name:"Сборы",value:e.item.revenue?"$"+e.item.revenue:"Неизвестно"},{name:"Статус",value:e.item.status},{name:"Исходное название",value:e.item.title||e.item.name}]);return(i,r)=>(a(),m("section",E,[o("div",G,[o("div",q,[(a(!0),m($,null,k(n.value,s=>(a(),m("div",{class:"info__box-item",key:s.name},[o("span",H,c(s.name),1),o("span",J,c(s.value),1)]))),128))])])]))}},P={class:"rec"},Q={class:"container"},W={class:"rec__title"},X={class:"rec__list"},Z={alt:"",class:"rec__list-item-img"},ee={class:"rec__list-item-title"},te={__name:"Rec",props:{recData:Array,type:String},setup(t){return(e,n)=>{const i=g("router-link"),r=f("lazy");return a(),m("section",P,[o("div",Q,[o("h2",W,c(t.recData?"Рекомендации":"Рекомендаций нет"),1),o("div",X,[(a(!0),m($,null,k(t.recData,s=>(a(),b(i,{to:`${s.id}`,class:"rec__list-item",key:s.id},{default:w(()=>[p(o("img",Z,null,512),[[r,h(y)+s.backdrop_path]]),o("h2",ee,c(s.title||s.name),1)]),_:2},1032,["to"]))),128))])])])}}},se={key:0,class:"main__dynamic"},ne={__name:"Dynamic",props:{type:String},setup(t){const e=t,n=B(),i=z(),r=Y();i.getItemId({type:e.type,id:n.params.id}),r.getRec({type:e.type,id:n.params.id});const s=u(()=>e.type=="movie"?i.movie:e.type=="tv"?i.tv:""),_=u(()=>{let l=e.type=="movie"?r.recMovies:e.type=="tv"?r.recTvs:"";if(l)return l.slice(0,4)});return I(()=>{i.movie=i.tv=null}),(l,v)=>{const D=g("Loader");return s.value?(a(),m("div",se,[d(V,{item:s.value,type:t.type},null,8,["item","type"]),d(K,{item:s.value},null,8,["item"]),d(te,{recData:_.value,type:t.type},null,8,["recData","type"])])):(a(),b(D,{key:1}))}}};export{ne as _};
