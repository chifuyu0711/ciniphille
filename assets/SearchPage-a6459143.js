import{r as g,b as v,o as a,d,w as f,e as p,f as o,u,i as y,t as k,l as S,m as $,h,n as x,j as w,q as D,c as i,v as B,F as C,k as V,s as b,a as N}from"./index-87916719.js";const T={alt:"",class:"main__search-list-item-img"},U={class:"main__search-list-item-title"},j={__name:"SearchContent",props:{item:Object},setup(e){return console.log(e.item),(s,l)=>{const n=g("router-link"),r=v("lazy");return a(),d(n,{to:`${e.item.media_type}/${e.item.id}`,class:"main__search-list-item"},{default:f(()=>[p(o("img",T,null,512),[[r,u(y)+e.item.backdrop_path]]),o("h2",U,k(e.item.title||e.item.name),1)]),_:1},8,["to"])}}},q=S("search",{state:()=>({result:null}),actions:{async getSearchData(e){try{let t=await $.get(`search/multi?query=${e}&language=ru-RU`);this.result=t.data.results}catch(t){console.log("Ошибка при поиске данных "+t.message)}}}}),z={class:"main__search"},F={class:"container"},M={key:0,class:"main__search-list"},A={__name:"Search",setup(e){const t=h(""),s=h(null),l=q();let n=null;x(t,m=>{clearTimeout(n),n=setTimeout(()=>{l.getSearchData(m)},500)});let r=w(()=>l.result);return D(()=>{s.value.focus()}),(m,_)=>(a(),i("div",z,[o("div",F,[p(o("input",{type:"text",class:"main__search-input",placeholder:"Найти фильм, сериал...","onUpdate:modelValue":_[0]||(_[0]=c=>t.value=c),ref_key:"input",ref:s},null,512),[[B,t.value]]),u(r)?(a(),i("div",M,[(a(!0),i(C,null,V(u(r),c=>(a(),d(j,{key:c.id,item:c},null,8,["item"]))),128))])):b("",!0)])]))}},E={class:"main"},O={__name:"SearchPage",setup(e){return(t,s)=>(a(),i("main",E,[N(A)]))}};export{O as default};
